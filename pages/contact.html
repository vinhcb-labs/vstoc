<!DOCTYPE html>
<html lang="vi">
<head>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact · VSTOC</title>
  <link rel="stylesheet" href="../assets/style.css" />
</head>
<body class="page">
<div class="container">
  <header class="page-header">
    <h1>Contact</h1>
    <p class="subtitle">Liên hệ hợp tác & hỗ trợ người dùng</p>
  </header>

<section>
  <h2>Thông tin liên hệ</h2>
  <p>Email: <a href="mailto:hello@vstoc.app">hello@vstoc.app</a> · Hỗ trợ: <a href="mailto:support@vstoc.app">support@vstoc.app</a></p>
</section>
<section>
  <h2>Gửi lời nhắn</h2>
  <form id="contact-form" class="form">
    <div class="form-row">
      <label>Họ tên</label>
      <input type="text" name="name" required placeholder="Tên của bạn"/>
    </div>
    <div class="form-row">
      <label>Email</label>
      <input type="email" name="email" required placeholder="you@example.com"/>
    </div>
    <div class="form-row">
      <label>Nội dung</label>
      <textarea name="message" rows="5" required placeholder="Tôi cần hỗ trợ về..."></textarea>
    </div>
    <button type="submit">Gửi</button>
    <p id="contact-result" class="muted" aria-live="polite"></p>
  </form>
  
  <script>
  // One-template setup: set PUBLIC_KEY, SERVICE_ID, TEMPLATE_ID in window.VSTOC_EMAILJS
  // EmailJS template should send to admin inbox; we also pass reply_to so you can reply easily.
  (function(){
    const form = document.getElementById('contact-form');
    const result = document.getElementById('contact-result');
    if(!form) return;
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      const now = new Date();
      data.submitted_at = now.toISOString();
      data.subject = "[VSTOC] Contact: " + (data.name || "Guest");
      data.reply_to = data.email || "";
      if(window.emailjs && window.VSTOC_EMAILJS && window.VSTOC_EMAILJS.PUBLIC_KEY){
        try{
          emailjs.init(window.VSTOC_EMAILJS.PUBLIC_KEY);
          await emailjs.send(window.VSTOC_EMAILJS.SERVICE_ID, window.VSTOC_EMAILJS.TEMPLATE_ID, data);
          result.textContent = "Đã gửi! Chúng tôi sẽ phản hồi sớm qua email.";
          form.reset();
        }catch(err){
          console.error(err);
          result.textContent = "Gửi lỗi, vui lòng thử lại hoặc gửi về support@vstoc.app";
        }
      }else{
        const subject = encodeURIComponent(data.subject);
        const body = encodeURIComponent((data.message||"") + "

Email: " + (data.email||""));
        window.location.href = "mailto:hello@vstoc.app?subject="+subject+"&body="+body;
      }
    });
  })();
  </script>
</section>


  <footer class="page-footer">
    <hr/>
    <p class="muted">© 2025 VSTOC. All rights reserved.</p>
    <nav class="inline-nav">
      <a href="#/home">Home</a>
      <a href="#/features">Features</a>
      <a href="#/download">Download</a>
      <a href="#/buy">Buy</a>
      <a href="#/support">Support</a>
      <a href="#/contact">Contact</a>
      <a href="#/terms">Terms</a>
      <a href="#/privacy">Privacy</a>
    </nav>
  </footer>
</div>
</body>
</html>
